(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4949c3ae"],{"47c1":function(e,i,t){"use strict";var r=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("el-upload",{attrs:{action:e.url,limit:10,"list-type":"picture-card","auto-upload":!0,"on-preview":e.handlePictureCardPreview,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"before-remove":e.handleBeforeRemove,"on-remove":e.handleRemove}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(i){e.dialogVisible=i}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},o=[],a={name:"imguploadformany",data:function(){return{url:"http://api.putao6379.top/api/upload/image",dialogImageUrl:"",dialogVisible:!1}},methods:{handleExceed:function(){this.$message.warning("当前限制选择 10 个文件")},beforeUpload:function(e){var i="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<1;return i||this.$message.error("上传头像图片只能是 JPG或PNG 格式!"),t||this.$message.error("上传头像图片大小不能超过 1MB!"),i&&t},handleSuccess:function(e,i){this.$emit("writeURLList",e)},handleBeforeRemove:function(e,i){var t=this;return!!confirm("您确定要删除图片吗?")&&(this.$axios.post("delete",{filePath:e.response.filePath}).then((function(i){t.$emit("deleteURLByPath",", "+e.response.filePath)})),!0)},handleRemove:function(e,i){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}}},l=a,n=t("2877"),s=Object(n["a"])(l,r,o,!1,null,"6f529cf6",null);i["a"]=s.exports},"86d7":function(e,i,t){"use strict";t.r(i);var r=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("h3",[e._v("视频管理")]),t("div",{staticStyle:{margin:"60px"}}),t("el-form",{ref:"minivideo",attrs:{model:e.minivideo,"label-position":e.labelPosition,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"title",prop:"title"}},[t("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.minivideo.title,callback:function(i){e.$set(e.minivideo,"title",i)},expression:"minivideo.title"}})],1),t("el-form-item",{attrs:{label:"preImage",prop:"preImage"}},[t("el-input",{model:{value:e.minivideo.preImage,callback:function(i){e.$set(e.minivideo,"preImage",i)},expression:"minivideo.preImage"}}),t("imguploadformany",{on:{writeURLList:e.writeURLForPreImage,deleteURLByPath:e.deleteURLForPreImage}})],1),t("el-form-item",{attrs:{label:"poster",prop:"poster"}},[t("el-input",{model:{value:e.minivideo.poster,callback:function(i){e.$set(e.minivideo,"poster",i)},expression:"minivideo.poster"}}),t("imguploadformany",{on:{writeURLList:e.writeURLForPoster,deleteURLByPath:e.deleteURLForPoster}})],1),t("el-form-item",{attrs:{label:"src",prop:"src"}},[t("el-input",{model:{value:e.minivideo.src,callback:function(i){e.$set(e.minivideo,"src",i)},expression:"minivideo.src"}})],1),t("el-form-item",{attrs:{label:"upName",prop:"upName"}},[t("el-input",{model:{value:e.minivideo.upName,callback:function(i){e.$set(e.minivideo,"upName",i)},expression:"minivideo.upName"}})],1),t("el-form-item",{attrs:{label:"upAvatar",prop:"upAvatar"}},[t("el-input",{model:{value:e.minivideo.upAvatar,callback:function(i){e.$set(e.minivideo,"upAvatar",i)},expression:"minivideo.upAvatar"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.submitForm("minivideo")}}},[e._v("提交")])],1)],1)],1)},o=[],a=t("47c1"),l={name:"minivideo",components:{imguploadformany:a["a"]},data:function(){return{labelPosition:"right",minivideo:{title:"",preImage:"",poster:"",src:"",upName:"",upAvatar:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],preImage:[{required:!0,message:"请输入封面图片",trigger:"blur"}],poster:[{required:!0,message:"请输入详情页图片",trigger:"blur"}],src:[{required:!0,message:"请输入视频链接",trigger:"blur"}],upName:[{required:!0,message:"请输入上传者姓名",trigger:"blur"},{max:15,message:"长度最大为15",trigger:"blur"}],upAvatar:[{required:!0,message:"请输入上传者头像",trigger:"blur"}]}}},methods:{writeURLForPreImage:function(e){this.minivideo.preImage=e.filePath},writeURLForPoster:function(e){this.minivideo.poster=e.filePath},deleteURLForPreImage:function(){this.minivideo.preImage=""},deleteURLForPoster:function(){this.minivideo.poster=""},submitForm:function(e){var i=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i.$axios.post("item/minivideo/insert",i.minivideo).then((function(e){e.data?alert("添加成功"):alert("添加失败")}))}))}}},n=l,s=t("2877"),m=Object(s["a"])(n,r,o,!1,null,"5e62bdcc",null);i["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4949c3ae.a856ff91.js.map