{"version":3,"sources":["webpack:///./src/components/common/imguploadformany.vue?0b5b","webpack:///src/components/common/imguploadformany.vue","webpack:///./src/components/common/imguploadformany.vue?ee98","webpack:///./src/components/common/imguploadformany.vue","webpack:///./src/components/minivideo.vue?9f92","webpack:///src/components/minivideo.vue","webpack:///./src/components/minivideo.vue?d6d8","webpack:///./src/components/minivideo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","url","handlePictureCardPreview","beforeUpload","handleSuccess","handleBeforeRemove","handleRemove","staticClass","dialogVisible","on","$event","dialogImageUrl","staticRenderFns","component","_v","staticStyle","ref","minivideo","labelPosition","rules","model","value","callback","$$v","$set","expression","writeURLForPreImage","deleteURLForPreImage","writeURLForPoster","deleteURLForPoster","submitForm"],"mappings":"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","file":"js/chunk-4949c3ae.a856ff91.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{attrs:{\"action\":_vm.url,\"limit\":10,\"list-type\":\"picture-card\",\"auto-upload\":true,\"on-preview\":_vm.handlePictureCardPreview,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleSuccess,\"before-remove\":_vm.handleBeforeRemove,\"on-remove\":_vm.handleRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-upload\r\n      :action=\"url\"\r\n      :limit=\"10\"\r\n      list-type=\"picture-card\"\r\n      :auto-upload=\"true\"\r\n      :on-preview=\"handlePictureCardPreview\"\r\n      :before-upload=\"beforeUpload\"\r\n      :on-success=\"handleSuccess\"\r\n      :before-remove=\"handleBeforeRemove\"\r\n      :on-remove=\"handleRemove\">\r\n      <i class=\"el-icon-plus\"></i>\r\n    </el-upload>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"imguploadformany\",\r\n    data() {\r\n      return {\r\n        //图片上传的地址\r\n        url: 'http://api.putao6379.top/api/upload/image',\r\n        dialogImageUrl: '',\r\n        dialogVisible: false\r\n      };\r\n    },\r\n    methods: {\r\n      //处理文件上传最大数\r\n      handleExceed() {\r\n        this.$message.warning(`当前限制选择 10 个文件`);\r\n      },\r\n      //判断文件类型和大小\r\n      beforeUpload(file) {\r\n        const isIMG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n        const isLt1M = file.size / 1024 / 1024 < 1;\r\n\r\n        if (!isIMG) {\r\n          this.$message.error('上传头像图片只能是 JPG或PNG 格式!');\r\n        }\r\n        if (!isLt1M) {\r\n          this.$message.error('上传头像图片大小不能超过 1MB!');\r\n        }\r\n        return isIMG && isLt1M;\r\n      },\r\n      handleSuccess(res, file) {\r\n        //图片上传成功回调\r\n        this.$emit(\"writeURLList\",res);\r\n\r\n      },\r\n      //删除之前的回调,若返回false什么也不做,返回true为直接删除\r\n      handleBeforeRemove(file, fileList) {\r\n        if (confirm(\"您确定要删除图片吗?\")){\r\n          //确定就把图片的服务器路径传给后台\r\n          this.$axios.post(`delete`,{filePath: file.response.filePath}).then(res => {\r\n            //并且把表单中的filePath字符串删了\r\n            this.$emit(\"deleteURLByPath\", \", \" + file.response.filePath);\r\n\r\n          });\r\n\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      //删除对应图片,需要要执行该方法之前传递参数,否则信息会没有\r\n      handleRemove(file, fileList) {\r\n         // console.log(file, fileList);\r\n         // console.log(file.response)\r\n\r\n      },\r\n      //放大镜预览图片\r\n      handlePictureCardPreview(file) {\r\n        this.dialogImageUrl = file.url;\r\n        this.dialogVisible = true;\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./imguploadformany.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./imguploadformany.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./imguploadformany.vue?vue&type=template&id=6f529cf6&scoped=true&\"\nimport script from \"./imguploadformany.vue?vue&type=script&lang=js&\"\nexport * from \"./imguploadformany.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f529cf6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"视频管理\")]),_c('div',{staticStyle:{\"margin\":\"60px\"}}),_c('el-form',{ref:\"minivideo\",attrs:{\"model\":_vm.minivideo,\"label-position\":_vm.labelPosition,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"title\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.minivideo.title),callback:function ($$v) {_vm.$set(_vm.minivideo, \"title\", $$v)},expression:\"minivideo.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"preImage\",\"prop\":\"preImage\"}},[_c('el-input',{model:{value:(_vm.minivideo.preImage),callback:function ($$v) {_vm.$set(_vm.minivideo, \"preImage\", $$v)},expression:\"minivideo.preImage\"}}),_c('imguploadformany',{on:{\"writeURLList\":_vm.writeURLForPreImage,\"deleteURLByPath\":_vm.deleteURLForPreImage}})],1),_c('el-form-item',{attrs:{\"label\":\"poster\",\"prop\":\"poster\"}},[_c('el-input',{model:{value:(_vm.minivideo.poster),callback:function ($$v) {_vm.$set(_vm.minivideo, \"poster\", $$v)},expression:\"minivideo.poster\"}}),_c('imguploadformany',{on:{\"writeURLList\":_vm.writeURLForPoster,\"deleteURLByPath\":_vm.deleteURLForPoster}})],1),_c('el-form-item',{attrs:{\"label\":\"src\",\"prop\":\"src\"}},[_c('el-input',{model:{value:(_vm.minivideo.src),callback:function ($$v) {_vm.$set(_vm.minivideo, \"src\", $$v)},expression:\"minivideo.src\"}})],1),_c('el-form-item',{attrs:{\"label\":\"upName\",\"prop\":\"upName\"}},[_c('el-input',{model:{value:(_vm.minivideo.upName),callback:function ($$v) {_vm.$set(_vm.minivideo, \"upName\", $$v)},expression:\"minivideo.upName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"upAvatar\",\"prop\":\"upAvatar\"}},[_c('el-input',{model:{value:(_vm.minivideo.upAvatar),callback:function ($$v) {_vm.$set(_vm.minivideo, \"upAvatar\", $$v)},expression:\"minivideo.upAvatar\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('minivideo')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h3>视频管理</h3>\r\n    <div style=\"margin: 60px;\"></div>\r\n\r\n    <el-form :model=\"minivideo\" :label-position=\"labelPosition\" :rules=\"rules\" ref=\"minivideo\" label-width=\"120px\">\r\n\r\n      <el-form-item label=\"title\" prop=\"title\">\r\n        <el-input type=\"textarea\" :rows=\"4\" v-model=\"minivideo.title\">\r\n        </el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"preImage\" prop=\"preImage\">\r\n        <el-input v-model=\"minivideo.preImage\"></el-input>\r\n        <!--菜单展示图片上传-->\r\n        <imguploadformany @writeURLList=\"writeURLForPreImage\" @deleteURLByPath=\"deleteURLForPreImage\"></imguploadformany>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"poster\" prop=\"poster\">\r\n        <el-input v-model=\"minivideo.poster\"></el-input>\r\n        <!--详情页图片上传-->\r\n        <imguploadformany @writeURLList=\"writeURLForPoster\" @deleteURLByPath=\"deleteURLForPoster\"></imguploadformany>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"src\" prop=\"src\">\r\n        <el-input v-model=\"minivideo.src\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"upName\" prop=\"upName\">\r\n        <el-input v-model=\"minivideo.upName\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"upAvatar\" prop=\"upAvatar\">\r\n        <el-input v-model=\"minivideo.upAvatar\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('minivideo')\">提交</el-button>\r\n      </el-form-item>\r\n\r\n\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import imguploadformany from \"./common/imguploadformany\"\r\n\r\n  export default {\r\n    name: \"minivideo\",\r\n    components: {\r\n      imguploadformany\r\n    },\r\n    data() {\r\n      return {\r\n        //格式布局相关***\r\n        labelPosition: 'right',\r\n        minivideo: {\r\n          title: '',\r\n          preImage: '',\r\n          poster: '',\r\n          src: '',\r\n          upName: '',\r\n          upAvatar: ''\r\n        },\r\n        rules: {\r\n          title: [\r\n            {required: true, message: '请输入标题', trigger: 'blur'}\r\n          ],\r\n          preImage: [\r\n            {required: true, message: '请输入封面图片', trigger: 'blur'}\r\n          ],\r\n          poster: [\r\n            {required: true, message: '请输入详情页图片', trigger: 'blur'}\r\n          ],\r\n          src: [\r\n            {required: true, message: '请输入视频链接', trigger: 'blur'}\r\n          ],\r\n          upName: [\r\n            {required: true, message: '请输入上传者姓名', trigger: 'blur'},\r\n            {max: 15, message: '长度最大为15', trigger: 'blur' }\r\n          ],\r\n          upAvatar: [\r\n            {required: true, message: '请输入上传者头像', trigger: 'blur'}\r\n          ]\r\n\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      //单图片回写\r\n      writeURLForPreImage(res) {\r\n        this.minivideo.preImage = res.filePath;\r\n      },\r\n      //单图片回写\r\n      writeURLForPoster(res) {\r\n        this.minivideo.poster = res.filePath;\r\n      },\r\n      //单图片删除\r\n      deleteURLForPreImage() {\r\n        this.minivideo.preImage = \"\";\r\n      },\r\n\r\n      deleteURLForPoster() {\r\n        this.minivideo.poster = \"\";\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n\r\n            this.$axios.post(`item/minivideo/insert`, this.minivideo).then(res => {\r\n              if (res.data) {\r\n                alert(\"添加成功\");\r\n                //this.minivideo = null;\r\n              } else {\r\n                alert(\"添加失败\")\r\n              }\r\n          })} else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minivideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minivideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./minivideo.vue?vue&type=template&id=5e62bdcc&scoped=true&\"\nimport script from \"./minivideo.vue?vue&type=script&lang=js&\"\nexport * from \"./minivideo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e62bdcc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}